<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>ont-app.igraph-grafter.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Igraph-grafter</span> <span class="project-version">0.1.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="ont-app.igraph-grafter.core.html"><div class="inner"><span>ont-app.igraph-grafter.core</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="ont-app.igraph-grafter.core.html#var-alter-graph"><div class="inner"><span>alter-graph</span></div></a></li><li class="depth-1"><a href="ont-app.igraph-grafter.core.html#var-ask-query"><div class="inner"><span>ask-query</span></div></a></li><li class="depth-1"><a href="ont-app.igraph-grafter.core.html#var-collect-kwis-and-literals"><div class="inner"><span>collect-kwis-and-literals</span></div></a></li><li class="depth-1"><a href="ont-app.igraph-grafter.core.html#var-collect-p-o"><div class="inner"><span>collect-p-o</span></div></a></li><li class="depth-1"><a href="ont-app.igraph-grafter.core.html#var-date-time-regex"><div class="inner"><span>date-time-regex</span></div></a></li><li class="depth-1"><a href="ont-app.igraph-grafter.core.html#var-interpret-query"><div class="inner"><span>interpret-query</span></div></a></li><li class="depth-1"><a href="ont-app.igraph-grafter.core.html#var-make-graph"><div class="inner"><span>make-graph</span></div></a></li><li class="depth-1"><a href="ont-app.igraph-grafter.core.html#var-ontology"><div class="inner"><span>ontology</span></div></a></li><li class="depth-1"><a href="ont-app.igraph-grafter.core.html#var-render-element"><div class="inner"><span>render-element</span></div></a></li><li class="depth-1"><a href="ont-app.igraph-grafter.core.html#var-special-literal-dispatch"><div class="inner"><span>special-literal-dispatch</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">ont-app.igraph-grafter.core</h1><div class="doc"><pre class="plaintext">Defines `GrafterGraph` record, which implements the `IGraph`, 
`IGraphMutable` and `IFn` protocols.</pre></div><div class="public anchor" id="var-alter-graph"><h3>alter-graph</h3><div class="usage"><code>(alter-graph add-or-delete g source-graph)</code></div><div class="doc"><pre class="plaintext">Side effect: Either adds or deletes the contents of `source-graph` from `g`
Where
&lt;source graph&gt; is a simple-graph 'adapter' into which content to be removed
  has been read.
&lt;g&gt; is a GrafterGraph
&lt;add-or-delete&gt; := fn [conn [&lt;Quad&gt;, ...]]
  either grafter/add-batched or grafter/delete
</pre></div></div><div class="public anchor" id="var-ask-query"><h3>ask-query</h3><div class="usage"><code>(ask-query conn query-string)</code></div><div class="doc"><pre class="plaintext">Returns true/false for `query-string` posed to `conn`
</pre></div></div><div class="public anchor" id="var-collect-kwis-and-literals"><h3>collect-kwis-and-literals</h3><div class="usage"><code>(collect-kwis-and-literals macc k v)</code></div><div class="doc"><pre class="plaintext">Returns `macc`' substituing  `v` -&gt; &lt;v'&gt;
Where
&lt;macc&gt; := {&lt;k&gt; &lt;v'&gt;, ...}, translated from a binding map from a query
&lt;k&gt; is a var in a query, :~ ':?.*'
&lt;v&gt; is the raw value bound to &lt;k&gt; by the query response
&lt;v'&gt; is the translation of &lt;v&gt; into idiomatic igraph datatypes:
  URIs -&gt; KWIs
  &lt;data-time string&gt; -&gt; #inst ....
  {:lang  ... :string ...} #lstr &lt;string&gt;@&lt;lang&gt;
  .*^^transit:json -&gt; decoded transit
  Otherwise, just &lt;v&gt;</pre></div></div><div class="public anchor" id="var-collect-p-o"><h3>collect-p-o</h3><div class="usage"><code>(collect-p-o graph-uri s acc p-o)</code></div><div class="doc"><pre class="plaintext">Returns [&lt;quad&gt;, ...] with a quad added for `s`,  `p-o`, `graph-uri`
Where
&lt;quad&gt; is a Grafter Quad
&lt;s&gt; is a URI for a subject
&lt;p-o&gt; := [&lt;p-kwi&gt;, &lt;o-elt&gt;]
&lt;p-kwi&gt; is the kwi for a predicate
&lt;o-elt&gt; is a kwi or literal object
&lt;graph-uri&gt; is a URI for some graph, or nil
NOTE: typically called to compose material to add to a graph.
</pre></div></div><div class="public anchor" id="var-date-time-regex"><h3>date-time-regex</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Matches the date-time-str encoded for #inst's, e.g. '2000-01-01T00:00:00Z'
</pre></div></div><div class="public anchor" id="var-interpret-query"><h3>interpret-query</h3><div class="usage"><code>(interpret-query conn query-string)</code></div><div class="doc"><pre class="plaintext">Returns (&lt;bmap'&gt;, ...)  returned from `query-string` posed to `conn`
Where
&lt;query-string&gt; is a SPARQL query
&lt;conn&gt; is a grafter connection implementing the proper interfaces for a query
&lt;bmap'&gt; := &lt;bmap&gt;, with datatypes translated to idiomatic igraph clojure objects 
  as appropriate, per the `collect-kwis-and-literals` function.
&lt;bmap&gt; is a binding map returned by posing &lt;query-string&gt; to &lt;conn&gt;</pre></div></div><div class="public anchor" id="var-make-graph"><h3>make-graph</h3><div class="usage"><code>(make-graph conn graph-kwi)</code></div><div class="doc"><pre class="plaintext">Returns an instance of `GrafterGraph` for `conn` and `graph-kwi`
  Where
  &lt;conn&gt; is a SailRepositoryconnection
  &lt;graph-kwi&gt; is a keyword mapped to a URI by voc namespace metadata.
See also the documentation for ont-app.vocabulary.core</pre></div></div><div class="public anchor" id="var-ontology"><h3>ontology</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-render-element"><h3>render-element</h3><div class="usage"><code>(render-element elt)</code></div><div class="doc"><pre class="plaintext">Returns either a URI or a literal to be added to a graph
</pre></div></div><div class="public anchor" id="var-special-literal-dispatch"><h3>special-literal-dispatch</h3><div class="usage"><code>(special-literal-dispatch x)</code></div><div class="doc"><pre class="plaintext">Returns :rdf-app/Instant,  :rdf-app/DatatypeURI or nil for `x`.
Where
&lt;x&gt; is a literal value 
`:rdf-app/Instant` triggers handling of an #inst
`:rdf-app/DatatypeURI` triggers handling as an xsd value or other ^^datatype.
`nil` signals handling with standard logic for literals per
  `rdf-app/render-literal-dispatch`</pre></div></div></div></body></html>